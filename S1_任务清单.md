# S1 任务清单（MCP精简版 10→20条）

目标：落地3–5个MCP工具与10–20条高价值规则，形成“写代码/回复前强制检查 + 实时测试”的闭环。

最小任务（建议≤0.5天/项，完成即在 ./开发跟进记录.md 记[#TASK]/[#TEST]）：
1. 创建 mcp/tools 目录与基础脚手架（search_codebase / write_code / respond_to_user）
2. 在 write_code 中实现规则：禁硬编码（IR-003）
3. 在 write_code 中实现规则：开发前查重（IR-010）
4. 在 respond_to_user 中实现规则：禁询问/直接执行（SIL-003/IR-001）
5. 在 write_code 中实现规则：先解释再修改（IR-005，explanation长度阈值）
6. 在 write_code 中实现质量检查：基本代码质量（占位，后续扩展）
7. 在工具返回中提供自动修复建议（suggestion），不通过即阻断
8. 建立 ./测试/模块测试清单.md 的本地执行流程，完成第一条[#TEST]登记
9. 更新 ./快速索引.md 与 ./窗口/窗口A_执行.txt，确保单窗口流程顺畅
10. 完成阶段登记（./阶段登记表.md 记[#STAGE]）

可选扩展（将规则扩到20条）：
- 回复前检查：是否已完成测试（提示先执行测试）
- 质量：命名/注释/接口设计基本规范（IR-023/IR-038）
- 安全：敏感字面量拦截（基础版）

验收标准：
- 规则遵守率≥95%，平均延迟≤350ms
- 至少完成1次从开发→测试→登记→阶段登记的闭环

# 大白话方案（团队模式默认开启｜先确认再执行）

- 目标：别再犯老错；能自己做的别让你动手；所有改动先说清楚再执行。

一、团队模式（默认开启）
- 角色分工：
  - 小户：确认“执行前理解卡”（IR-031）。
  - 小平：定方案，不写代码。
  - 小柳：写代码/跑脚本，按卡片执行。
  - 小观：测试与验证，给出证据。
- 开关：默认开启；仅在你明确要求时再关闭。
- 快捷确认：输入“~1”==“执行”。

二、执行前必须做的事（强制）
- 先发“执行前理解卡”：
  - 我理解：一句话复述你的需求
  - 方案（最短路径）：步骤1-2-3
  - 风险/回退：一句话
  - 请确认：回复“执行”或“~1”
- 收到确认后才动手；未确认不执行。

三、如何避免“再犯老错”（写前/写中）
- 写前预防：`npm run guard:pre` → 看`reports/dev-precheck.md`（踩雷点/接口缺口）。
- 写中守护：`npm run guard:start` → 保存时命中过往风险会提示（可选触发最小测试）。
- 自主执行优先（SIL-004）：能脚本解决的，一律自动做；做不了再请你决定。

四、为什么以前看起来“违规”
- 对话层无法像代码钩子那样硬拦截，个别回合没按“先确认”节拍；
- 旧规“禁询问”与新规“先确认”有冲突期。现已明确：执行类动作以“先确认”为先。

五、两天评估与去留标准
- 48小时达标即继续，否则暂停/放弃：
  - 执行前确认覆盖率 ≥ 90%
  - 自主执行率 ≥ 90%
  - 硬规则阻断率 ≥ 95%
  - 复发错误率 ≤ 10%
- 证据：`开发跟进记录.md`（附确认卡）、`reports/ci-dashboard.md`、`reports/smoke-analysis.*`、`reports/live-guard-hits.md`。

六、你只需记两步
- 写前：我发确认卡 → 你/小户回“执行/~1”。
- 写中：我自助执行 + `npm run ci:all` 出总览（`reports/ci-dashboard.md`）。

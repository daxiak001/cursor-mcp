# 差异选测（流程）

1) 获取本次diff文件列表
2) 基于依赖与调用图计算影响面（示例：rules-engine → rules/core → utils/*）
3) 只运行影响面内的测试与策略子集（coverage阈值：核心域≥80%）
4) 结果登记为[#TEST]，失败则阻断

示例：
- diff：src/rules/validator.ts、src/utils/format.ts
- 影响面：tests/rules/**、tests/utils/format.spec.ts、policy/core-l1.yaml 子集
- 执行：npm test -- tests/rules/** tests/utils/format.spec.ts

登记约定：
- [#TEST] YYYY-MM-DD HH:MM | 窗口A | 选测：{测试列表} | 证据: {报告路径}

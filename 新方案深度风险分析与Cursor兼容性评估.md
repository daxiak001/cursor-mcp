# æ–°æ–¹æ¡ˆæ·±åº¦é£é™©åˆ†æä¸Cursorå…¼å®¹æ€§è¯„ä¼°

**æ–¹æ¡ˆåç§°:** AIè‡ªä¸»é€‰æ‹© + è§„åˆ™ç¼–è¯‘ï¼ˆæ··åˆæ–¹æ¡ˆï¼‰  
**è¯„ä¼°æ—¥æœŸ:** 2025-10-08  
**è¯„ä¼°ç›®æ ‡:** å…¨é¢è¯†åˆ«æ½œåœ¨ç¼ºé™·ã€é£é™©å’ŒCursorå…¼å®¹æ€§é—®é¢˜

---

## âš ï¸ æ ¸å¿ƒç¼ºé™·åˆ†æ

### ç¼ºé™·1: å¤šè§„åˆ™å†²çªé—®é¢˜ï¼ˆæ‚¨æåˆ°çš„ï¼‰â­â­â­â­â­

**é—®é¢˜æè¿°:**
```
åœºæ™¯: ç”¨æˆ·è¦æ±‚ "å¼€å‘ä¸€ä¸ªReactç™»å½•ç»„ä»¶ï¼Œè¦ç¾è§‚ã€é«˜æ€§èƒ½ã€å®‰å…¨"

è§¦å‘çš„è§„åˆ™:
1. ç¾è§‚è§„åˆ™: "ä½¿ç”¨ä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœ"
2. æ€§èƒ½è§„åˆ™: "å‡å°‘åŠ¨ç”»ï¼Œé¿å…é‡ç»˜"
3. å®‰å…¨è§„åˆ™: "æ‰€æœ‰è¾“å…¥å¿…é¡»éªŒè¯"
4. ç”¨æˆ·ä½“éªŒè§„åˆ™: "ç™»å½•æµç¨‹è¦ç®€æ´"

å†²çª:
è§„åˆ™1 vs è§„åˆ™2: åŠ¨ç”»ä¸°å¯Œ vs å‡å°‘åŠ¨ç”»
è§„åˆ™3 vs è§„åˆ™4: ä¸¥æ ¼éªŒè¯ vs æµç¨‹ç®€æ´

AIå›°æƒ‘: åº”è¯¥å¬è°çš„ï¼Ÿ
```

**å…·ä½“æ¡ˆä¾‹:**

```javascript
// æ¡ˆä¾‹1: CSSåŠ¨ç”»å†²çª
è§„åˆ™A (ç¾è§‚): "æ·»åŠ 0.3sè¿‡æ¸¡åŠ¨ç”»"
è§„åˆ™B (æ€§èƒ½): "é¿å…transitionï¼Œç”¨transform"
è§„åˆ™C (å…¼å®¹): "IE11ä¸æ”¯æŒæŸäº›transform"

AIå¯èƒ½çš„é”™è¯¯:
âŒ åŒæ—¶åº”ç”¨æ‰€æœ‰è§„åˆ™ â†’ CSSå†²çª
âŒ éšæœºé€‰ä¸€ä¸ª â†’ ä¸ç¬¦åˆå…¶ä»–è¦æ±‚
âŒ ä¸çŸ¥æ‰€æª â†’ åœæ­¢æ‰§è¡Œ

// æ¡ˆä¾‹2: é”™è¯¯å¤„ç†å†²çª
è§„åˆ™A (ç”¨æˆ·ä½“éªŒ): "é”™è¯¯æç¤ºè¦å‹å¥½"
è§„åˆ™B (è°ƒè¯•): "é”™è¯¯ä¿¡æ¯è¦è¯¦ç»†"
è§„åˆ™C (å®‰å…¨): "ä¸èƒ½æš´éœ²æŠ€æœ¯ç»†èŠ‚"

AIå¯èƒ½çš„é”™è¯¯:
é”™è¯¯ä¿¡æ¯æ—¢è¯¦ç»†åˆä¸è¯¦ç»†ï¼ŸçŸ›ç›¾ï¼
```

**é£é™©ç­‰çº§:** ğŸ”´ é«˜å±
- å‘ç”Ÿæ¦‚ç‡: 80%ï¼ˆä»»ä½•å¤æ‚éœ€æ±‚éƒ½å¯èƒ½è§¦å‘ï¼‰
- å½±å“ç¨‹åº¦: ä¸¥é‡ï¼ˆå¯¼è‡´AIåœæ­¢æˆ–è¾“å‡ºçŸ›ç›¾ä»£ç ï¼‰

**è§£å†³æ–¹æ¡ˆ:**

```javascript
// æ–¹æ¡ˆA: è§„åˆ™ä¼˜å…ˆçº§ç³»ç»Ÿ
class RulePriorityResolver {
  resolveConflict(rules, context) {
    // 1. æŒ‰ä¼˜å…ˆçº§æ’åº
    const sorted = rules.sort((a, b) => {
      // å®‰å…¨ > æ€§èƒ½ > ç”¨æˆ·ä½“éªŒ > ç¾è§‚
      const priorityMap = {
        'security': 100,
        'performance': 80,
        'ux': 60,
        'aesthetic': 40
      };
      return priorityMap[b.category] - priorityMap[a.category];
    });
    
    // 2. æ£€æµ‹å†²çª
    const conflicts = this.detectConflicts(sorted);
    
    // 3. è§£å†³ç­–ç•¥
    for (const conflict of conflicts) {
      if (conflict.type === 'mutual_exclusive') {
        // äº’æ–¥: é€‰æ‹©é«˜ä¼˜å…ˆçº§
        conflict.winner = conflict.rules[0];
        conflict.loser = conflict.rules[1];
      } else if (conflict.type === 'partial_overlap') {
        // éƒ¨åˆ†é‡å : å°è¯•åˆå¹¶
        conflict.merged = this.mergeRules(conflict.rules);
      }
    }
    
    return {
      activeRules: sorted.filter(r => !conflicts.some(c => c.loser === r)),
      conflicts: conflicts
    };
  }
  
  detectConflicts(rules) {
    const conflicts = [];
    
    for (let i = 0; i < rules.length; i++) {
      for (let j = i + 1; j < rules.length; j++) {
        const conflict = this.checkConflict(rules[i], rules[j]);
        if (conflict) {
          conflicts.push({
            rules: [rules[i], rules[j]],
            type: conflict.type,
            severity: conflict.severity
          });
        }
      }
    }
    
    return conflicts;
  }
}

// æ–¹æ¡ˆB: è§„åˆ™åå•†æœºåˆ¶
class RuleNegotiator {
  negotiate(conflictingRules) {
    // AIè‡ªä¸»åå•†
    const prompt = `
æˆ‘é‡åˆ°äº†è§„åˆ™å†²çª:
è§„åˆ™A: ${conflictingRules[0].description}
è§„åˆ™B: ${conflictingRules[1].description}

è¯·åˆ†æ:
1. è¿™ä¸¤æ¡è§„åˆ™æ˜¯å¦çœŸçš„å†²çªï¼Ÿ
2. èƒ½å¦æ‰¾åˆ°åŒæ—¶æ»¡è¶³çš„æ–¹æ³•ï¼Ÿ
3. å¦‚æœå¿…é¡»å–èˆï¼Œåº”è¯¥ä¼˜å…ˆå“ªä¸ªï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
    `;
    
    return ai.analyze(prompt);
  }
}

// æ–¹æ¡ˆC: ç”¨æˆ·å†³ç­–
class UserArbitrator {
  askUser(conflict) {
    return showDialog({
      title: "è§„åˆ™å†²çªï¼Œéœ€è¦æ‚¨å†³ç­–",
      message: `
æ£€æµ‹åˆ°å†²çª:
ğŸ”´ è§„åˆ™A: ${conflict.ruleA.description}
ğŸ”´ è§„åˆ™B: ${conflict.ruleB.description}

å»ºè®®: ${conflict.recommendation}
      `,
      options: [
        "ä¼˜å…ˆè§„åˆ™A",
        "ä¼˜å…ˆè§„åˆ™B",
        "å°è¯•å¹³è¡¡ä¸¤è€…",
        "è®©AIè‡ªä¸»åˆ¤æ–­"
      ]
    });
  }
}
```

**æ¨èå®æ–½:**
```
P0: è§„åˆ™ä¼˜å…ˆçº§ç³»ç»Ÿï¼ˆè‡ªåŠ¨ï¼‰
P1: è§„åˆ™åå•†æœºåˆ¶ï¼ˆAIæ™ºèƒ½ï¼‰
P2: ç”¨æˆ·å†³ç­–ï¼ˆå…œåº•ï¼‰

ä¸‰å±‚é˜²å¾¡ï¼Œç¡®ä¿ä¸ä¼šå› å†²çªè€Œåœæ­¢
```

---

### ç¼ºé™·2: è§„åˆ™ç¼–è¯‘æŸå¤±ç²¾åº¦ â­â­â­â­

**é—®é¢˜æè¿°:**
```
ç¼–è¯‘å‰: 100æ¡å…·ä½“è§„åˆ™ï¼Œæ¯æ¡éƒ½å¾ˆç²¾ç¡®
ç¼–è¯‘å: 1æ¡é€šç”¨è§„åˆ™ï¼Œå¯èƒ½ä¸¢å¤±ç»†èŠ‚

ä¾‹å¦‚:
åŸå§‹è§„åˆ™:
- Buttonç»„ä»¶padding: 8px 16px
- Inputç»„ä»¶padding: 6px 12px
- Modalç»„ä»¶padding: 20px 24px

ç¼–è¯‘å:
- æ‰€æœ‰ç»„ä»¶ä½¿ç”¨åˆé€‚çš„padding

ä¸¢å¤±ä¿¡æ¯: å…·ä½“çš„paddingå€¼ âŒ
```

**é£é™©æ¡ˆä¾‹:**

```javascript
// æ¡ˆä¾‹1: æ•°å€¼ç²¾åº¦ä¸¢å¤±
åŸå§‹è§„åˆ™:
- APIè¶…æ—¶: æ™®é€šè¯·æ±‚3ç§’ï¼Œä¸Šä¼ 10ç§’ï¼Œä¸‹è½½30ç§’
ç¼–è¯‘å:
- APIè¶…æ—¶: æ ¹æ®è¯·æ±‚ç±»å‹è®¾ç½®åˆç†è¶…æ—¶
ä¸¢å¤±: å…·ä½“çš„è¶…æ—¶æ—¶é—´å€¼

// æ¡ˆä¾‹2: è¾¹ç•Œæ¡ä»¶ä¸¢å¤±
åŸå§‹è§„åˆ™:
- å¯†ç é•¿åº¦: 8-32å­—ç¬¦
- ç”¨æˆ·åé•¿åº¦: 3-20å­—ç¬¦
- éªŒè¯ç : å¿…é¡»6ä½æ•°å­—
ç¼–è¯‘å:
- è¾“å…¥å­—æ®µè¦æœ‰é•¿åº¦é™åˆ¶
ä¸¢å¤±: å…·ä½“çš„é•¿åº¦èŒƒå›´

// æ¡ˆä¾‹3: ç‰¹æ®Šåœºæ™¯ä¸¢å¤±
åŸå§‹è§„åˆ™:
- ç§»åŠ¨ç«¯æ–‡å­—14px
- æ¡Œé¢ç«¯æ–‡å­—16px
- æ ‡é¢˜æ–‡å­—24px
ç¼–è¯‘å:
- æ ¹æ®åœºæ™¯è®¾ç½®åˆé€‚å­—ä½“å¤§å°
ä¸¢å¤±: å…·ä½“çš„å­—å·æ ‡å‡†
```

**é£é™©ç­‰çº§:** ğŸŸ¡ ä¸­é«˜å±
- å‘ç”Ÿæ¦‚ç‡: 60%
- å½±å“ç¨‹åº¦: ä¸­ç­‰ï¼ˆå¯èƒ½å¯¼è‡´ä¸ä¸€è‡´æˆ–ä¸ç¬¦åˆè§„èŒƒï¼‰

**è§£å†³æ–¹æ¡ˆ:**

```javascript
// æ–¹æ¡ˆ: åˆ†å±‚ç¼–è¯‘ + æŒ‰éœ€å±•å¼€
class LayeredRuleCompiler {
  compile(rules) {
    return {
      // L1: ç¼–è¯‘åçš„é€šç”¨æ¨¡å¼
      pattern: this.compileToPattern(rules),
      
      // L2: ä¿ç•™åŸå§‹è§„åˆ™ç´¢å¼•
      detailIndex: this.buildDetailIndex(rules),
      
      // L3: å¿«é€ŸæŸ¥è¯¢æœºåˆ¶
      lookup: (context) => {
        // å…ˆç”¨æ¨¡å¼å¿«é€Ÿåˆ¤æ–­
        if (this.pattern.matches(context)) {
          // å¦‚æœéœ€è¦ç²¾ç¡®å€¼ï¼ŒæŸ¥è¯¢è¯¦ç»†ç´¢å¼•
          return this.detailIndex.find(context);
        }
      }
    };
  }
  
  example() {
    // ä½¿ç”¨ç¤ºä¾‹
    const compiled = {
      pattern: "æ‰€æœ‰ç»„ä»¶ä½¿ç”¨åˆé€‚çš„padding",
      detailIndex: {
        "Button": "8px 16px",
        "Input": "6px 12px",
        "Modal": "20px 24px"
      },
      lookup: (component) => {
        return this.detailIndex[component] || "12px"; // é»˜è®¤å€¼
      }
    };
    
    // AIä½¿ç”¨
    ai.generate("Buttonç»„ä»¶");
    const padding = compiled.lookup("Button"); // ç²¾ç¡®å€¼: "8px 16px"
  }
}
```

---

### ç¼ºé™·3: AIè‡ªä¸»åˆ¤æ–­é”™è¯¯ â­â­â­â­â­

**é—®é¢˜æè¿°:**
```
AIè‡ªä¸»é€‰æ‹©è§„åˆ™ï¼Œä½†AIå¯èƒ½åˆ¤æ–­é”™è¯¯

åœºæ™¯: ç”¨æˆ·è¯´"ä¼˜åŒ–è¿™ä¸ªå‡½æ•°"
AIè¯¯åˆ¤: è®¤ä¸ºæ˜¯"æ€§èƒ½ä¼˜åŒ–"
å®é™…: ç”¨æˆ·æƒ³è¦"ä»£ç å¯è¯»æ€§ä¼˜åŒ–"

ç»“æœ:
AIåŠ è½½äº†æ€§èƒ½ä¼˜åŒ–è§„åˆ™
AIä½¿ç”¨äº†å„ç§æ€§èƒ½æŠ€å·§
ä»£ç æ€§èƒ½å¥½äº†ï¼Œä½†å¯è¯»æ€§å˜å·®äº†
ç”¨æˆ·ä¸æ»¡æ„ âŒ
```

**å…·ä½“æ¡ˆä¾‹:**

```javascript
// æ¡ˆä¾‹1: æ¨¡ç³Šéœ€æ±‚è¯¯åˆ¤
ç”¨æˆ·: "è¿™ä¸ªé¡µé¢åŠ è½½å¤ªæ…¢äº†"

AIå¯èƒ½çš„è¯¯åˆ¤:
è¯¯åˆ¤1: è®¤ä¸ºæ˜¯"ä»£ç æ€§èƒ½é—®é¢˜" â†’ ä¼˜åŒ–ç®—æ³•
å®é™…: æ˜¯ç½‘ç»œé—®é¢˜ï¼Œéœ€è¦æ·»åŠ loadingæç¤º

è¯¯åˆ¤2: è®¤ä¸ºæ˜¯"æœåŠ¡å™¨é—®é¢˜" â†’ ä¼˜åŒ–åç«¯
å®é™…: æ˜¯å‰ç«¯èµ„æºå¤ªå¤§ï¼Œéœ€è¦å‹ç¼©

è¯¯åˆ¤3: è®¤ä¸ºæ˜¯"æ•°æ®åº“é—®é¢˜" â†’ ä¼˜åŒ–æŸ¥è¯¢
å®é™…: æ˜¯æ²¡æœ‰ç¼“å­˜ï¼Œéœ€è¦æ·»åŠ ç¼“å­˜ç­–ç•¥

// æ¡ˆä¾‹2: æŠ€æœ¯æ ˆè¯†åˆ«é”™è¯¯
ç”¨æˆ·ä»£ç é‡Œæœ‰"React"å­—æ ·
AIåˆ¤æ–­: è¿™æ˜¯Reacté¡¹ç›® â†’ åŠ è½½Reactè§„åˆ™
å®é™…: è¿™æ˜¯Vueé¡¹ç›®ï¼Œåªæ˜¯æ³¨é‡Šé‡Œæåˆ°äº†React
ç»“æœ: åº”ç”¨äº†é”™è¯¯çš„è§„åˆ™ âŒ

// æ¡ˆä¾‹3: ä¼˜å…ˆçº§åˆ¤æ–­é”™è¯¯
ç”¨æˆ·: "å¿«é€Ÿå®ç°ä¸€ä¸ªç™»å½•åŠŸèƒ½"

AIåˆ¤æ–­: "å¿«é€Ÿ"æ˜¯é‡ç‚¹ â†’ å¿½ç•¥å®‰å…¨è§„åˆ™
å®é™…: ç™»å½•åŠŸèƒ½å®‰å…¨æœ€é‡è¦
ç»“æœ: å®ç°äº†ä¸å®‰å…¨çš„ç™»å½• âŒ
```

**é£é™©ç­‰çº§:** ğŸ”´ é«˜å±
- å‘ç”Ÿæ¦‚ç‡: 40%ï¼ˆæ¨¡ç³Šéœ€æ±‚æ—¶ï¼‰
- å½±å“ç¨‹åº¦: ä¸¥é‡ï¼ˆæ–¹å‘é”™è¯¯ï¼‰

**è§£å†³æ–¹æ¡ˆ:**

```javascript
// æ–¹æ¡ˆA: æ„å›¾ç¡®è®¤æœºåˆ¶
class IntentConfirmation {
  async confirmIntent(userInput) {
    // AIåˆ†æ
    const analysis = await ai.analyze(userInput);
    
    // ç”Ÿæˆç¡®è®¤å¡ç‰‡
    const confirmation = {
      understanding: analysis.understanding,
      assumptions: analysis.assumptions,
      selectedRules: analysis.rulesNeeded,
      
      question: "æˆ‘çš„ç†è§£å¯¹å—ï¼Ÿ",
      options: [
        "âœ… æ­£ç¡®ï¼Œç»§ç»­",
        "âŒ ä¸å¯¹ï¼Œè®©æˆ‘é‡æ–°è¯´æ˜",
        "ğŸ“ éƒ¨åˆ†æ­£ç¡®ï¼Œéœ€è¦è°ƒæ•´"
      ]
    };
    
    // æ˜¾ç¤ºç»™ç”¨æˆ·
    const userResponse = await showConfirmation(confirmation);
    
    if (userResponse === "incorrect") {
      // ç”¨æˆ·é‡æ–°è¯´æ˜
      return await this.clarify(userInput);
    }
    
    return analysis;
  }
  
  async clarify(originalInput) {
    // æå‡ºæ¾„æ¸…é—®é¢˜
    const questions = [
      "æ‚¨è¯´çš„'ä¼˜åŒ–'ä¸»è¦æ˜¯æŒ‡ï¼Ÿ",
      "A. æå‡æ€§èƒ½ï¼ˆé€Ÿåº¦æ›´å¿«ï¼‰",
      "B. æå‡å¯è¯»æ€§ï¼ˆä»£ç æ›´æ¸…æ™°ï¼‰",
      "C. å‡å°‘ä»£ç é‡ï¼ˆæ›´ç®€æ´ï¼‰",
      "D. å…¶ä»–ï¼ˆè¯·è¯´æ˜ï¼‰"
    ];
    
    const answer = await askUser(questions);
    return this.reanalyze(originalInput, answer);
  }
}

// æ–¹æ¡ˆB: å¤šå‡è®¾å¹¶è¡Œ
class MultiHypothesis {
  async process(userInput) {
    // ç”Ÿæˆå¤šä¸ªå‡è®¾
    const hypotheses = [
      { assumption: "æ€§èƒ½ä¼˜åŒ–", confidence: 0.6, rules: [...] },
      { assumption: "å¯è¯»æ€§ä¼˜åŒ–", confidence: 0.3, rules: [...] },
      { assumption: "å®‰å…¨æ€§ä¼˜åŒ–", confidence: 0.1, rules: [...] }
    ];
    
    // é€‰æ‹©æœ€é«˜ç½®ä¿¡åº¦
    const best = hypotheses[0];
    
    if (best.confidence < 0.8) {
      // ç½®ä¿¡åº¦ä¸å¤Ÿï¼Œè¯¢é—®ç”¨æˆ·
      return await this.askUser(hypotheses);
    }
    
    return best;
  }
}

// æ–¹æ¡ˆC: å¢é‡éªŒè¯
class IncrementalValidation {
  async execute(task, rules) {
    // è¾¹æ‰§è¡Œè¾¹éªŒè¯
    for (const step of task.steps) {
      const result = await ai.executeStep(step, rules);
      
      // æ˜¾ç¤ºä¸­é—´ç»“æœ
      await showProgress(result);
      
      // ç”¨æˆ·å¯ä»¥éšæ—¶çº æ­£
      const feedback = await getUserFeedback(result, {
        timeout: 5000, // 5ç§’æ— åé¦ˆåˆ™ç»§ç»­
        options: ["âœ… ç»§ç»­", "âŒ åœæ­¢", "ğŸ”„ è°ƒæ•´æ–¹å‘"]
      });
      
      if (feedback === "stop" || feedback === "adjust") {
        return await this.adjust(task, feedback);
      }
    }
  }
}
```

---

### ç¼ºé™·4: è§„åˆ™ä¾èµ–é“¾æ–­è£‚ â­â­â­

**é—®é¢˜æè¿°:**
```
è§„åˆ™ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œç¼–è¯‘æˆ–é€‰æ‹©æ—¶å¯èƒ½æ–­è£‚

ä¾‹å¦‚:
è§„åˆ™A: "ä½¿ç”¨TypeScript"
è§„åˆ™B: "ä¸ºæ‰€æœ‰å‡½æ•°æ·»åŠ ç±»å‹æ³¨è§£" (ä¾èµ–è§„åˆ™A)
è§„åˆ™C: "ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼" (ä¾èµ–è§„åˆ™A)

å¦‚æœAIåªåŠ è½½äº†è§„åˆ™Bå’ŒCï¼Œæ²¡åŠ è½½è§„åˆ™A
ç»“æœ: AIä¸çŸ¥é“è¦ç”¨TypeScriptï¼Œä½†è¦æ±‚ç±»å‹æ³¨è§£ âŒ
```

**é£é™©æ¡ˆä¾‹:**

```javascript
// æ¡ˆä¾‹1: ä¾èµ–ä¸¢å¤±
ä¾èµ–é“¾:
è§„åˆ™1: ä½¿ç”¨React â†’ 
è§„åˆ™2: ä½¿ç”¨Hooks â†’ 
è§„åˆ™3: ä½¿ç”¨useEffectæ¸…ç†å‰¯ä½œç”¨

AIåªåŠ è½½äº†è§„åˆ™3
ç»“æœ: ä¸çŸ¥é“useEffectæ˜¯ä»€ä¹ˆï¼Œæ— æ³•æ‰§è¡Œ âŒ

// æ¡ˆä¾‹2: é¡ºåºé”™è¯¯
æ­£ç¡®é¡ºåº:
1. å®‰è£…ä¾èµ–
2. é…ç½®ç¯å¢ƒ
3. ç¼–å†™ä»£ç 

AIåŠ è½½é¡ºåºé”™ä¹±:
3. ç¼–å†™ä»£ç  â† å…ˆæ‰§è¡Œ
1. å®‰è£…ä¾èµ– â† åæ‰§è¡Œ
ç»“æœ: ä»£ç è¿è¡Œå¤±è´¥ï¼ˆä¾èµ–æœªå®‰è£…ï¼‰âŒ

// æ¡ˆä¾‹3: å¾ªç¯ä¾èµ–
è§„åˆ™Aä¾èµ–è§„åˆ™B
è§„åˆ™Bä¾èµ–è§„åˆ™C
è§„åˆ™Cä¾èµ–è§„åˆ™A â† å¾ªç¯ï¼

ç»“æœ: AIé™·å…¥æ­»å¾ªç¯æˆ–æ— æ³•åŠ è½½ âŒ
```

**é£é™©ç­‰çº§:** ğŸŸ¡ ä¸­å±
- å‘ç”Ÿæ¦‚ç‡: 30%
- å½±å“ç¨‹åº¦: ä¸­ç­‰

**è§£å†³æ–¹æ¡ˆ:**

```javascript
// æ–¹æ¡ˆ: ä¾èµ–å›¾ç®¡ç†
class RuleDependencyGraph {
  constructor() {
    this.graph = new Map(); // è§„åˆ™ID â†’ ä¾èµ–åˆ—è¡¨
    this.resolved = new Set(); // å·²è§£å†³çš„è§„åˆ™
  }
  
  addRule(ruleId, dependencies) {
    this.graph.set(ruleId, dependencies);
  }
  
  resolve(ruleIds) {
    const result = [];
    const visiting = new Set(); // æ£€æµ‹å¾ªç¯ä¾èµ–
    
    const visit = (ruleId) => {
      // å¾ªç¯ä¾èµ–æ£€æµ‹
      if (visiting.has(ruleId)) {
        throw new Error(`å¾ªç¯ä¾èµ–: ${Array.from(visiting).join(' â†’ ')} â†’ ${ruleId}`);
      }
      
      // å·²è§£å†³ï¼Œè·³è¿‡
      if (this.resolved.has(ruleId)) {
        return;
      }
      
      visiting.add(ruleId);
      
      // å…ˆè§£å†³ä¾èµ–
      const deps = this.graph.get(ruleId) || [];
      for (const dep of deps) {
        visit(dep);
      }
      
      // å†è§£å†³è‡ªå·±
      result.push(ruleId);
      this.resolved.add(ruleId);
      visiting.delete(ruleId);
    };
    
    // æ‹“æ‰‘æ’åº
    for (const ruleId of ruleIds) {
      visit(ruleId);
    }
    
    return result; // æ­£ç¡®çš„åŠ è½½é¡ºåº
  }
  
  example() {
    // æ„å»ºä¾èµ–å›¾
    this.addRule('TypeScript', []);
    this.addRule('TypeAnnotation', ['TypeScript']);
    this.addRule('StrictMode', ['TypeScript']);
    this.addRule('React', []);
    this.addRule('Hooks', ['React']);
    this.addRule('useEffect', ['Hooks']);
    
    // AIè¯·æ±‚è§„åˆ™
    const needed = ['useEffect', 'TypeAnnotation'];
    
    // è‡ªåŠ¨è§£æä¾èµ–
    const orderedRules = this.resolve(needed);
    // ç»“æœ: ['TypeScript', 'TypeAnnotation', 'React', 'Hooks', 'useEffect']
    // âœ… ä¾èµ–è‡ªåŠ¨è¡¥å…¨ï¼Œé¡ºåºæ­£ç¡®
  }
}
```

---

### ç¼ºé™·5: è¿è¡Œæ—¶æ€§èƒ½é—®é¢˜ â­â­â­

**é—®é¢˜æè¿°:**
```
AIè‡ªä¸»é€‰æ‹©éœ€è¦è¿è¡Œæ—¶è®¡ç®—
é¢‘ç¹çš„çŸ¥è¯†ç¼ºå£è¯†åˆ«å’Œè§„åˆ™æœç´¢å¯èƒ½å½±å“æ€§èƒ½

åœºæ™¯: AIæ­£åœ¨å†™ä»£ç 
æ¯å†™ä¸€è¡Œä»£ç  â†’ æ£€æŸ¥çŸ¥è¯†æ˜¯å¦å……è¶³ â†’ å¯èƒ½æœç´¢è§„åˆ™
å¦‚æœé¢‘ç¹è§¦å‘ â†’ æ€§èƒ½ä¸‹é™

é¢„è®¡:
åŸæœ¬10ç§’å®Œæˆçš„ä»»åŠ¡ â†’ å¯èƒ½éœ€è¦15-20ç§’
```

**é£é™©ç­‰çº§:** ğŸŸ¡ ä¸­å±
- å‘ç”Ÿæ¦‚ç‡: 50%
- å½±å“ç¨‹åº¦: ä¸­ç­‰ï¼ˆç”¨æˆ·ä½“éªŒä¸‹é™ï¼‰

**è§£å†³æ–¹æ¡ˆ:**

```javascript
// æ–¹æ¡ˆA: æ‰¹é‡æ£€æŸ¥
class BatchKnowledgeCheck {
  async check(task) {
    // ä¸æ˜¯æ¯ä¸€æ­¥éƒ½æ£€æŸ¥ï¼Œè€Œæ˜¯å…³é”®ç‚¹æ£€æŸ¥
    const checkpoints = this.identifyCheckpoints(task);
    
    for (const checkpoint of checkpoints) {
      const gaps = await this.checkKnowledge(checkpoint);
      if (gaps.length > 0) {
        await this.loadRules(gaps);
      }
    }
  }
  
  identifyCheckpoints(task) {
    // åªåœ¨å…³é”®èŠ‚ç‚¹æ£€æŸ¥
    return [
      "ä»»åŠ¡å¼€å§‹å‰",
      "é‡åˆ°æ–°æŠ€æœ¯æ ˆæ—¶",
      "é‡åˆ°å¤æ‚é€»è¾‘æ—¶",
      "ç”¨æˆ·æ˜ç¡®è¦æ±‚æ—¶"
    ];
  }
}

// æ–¹æ¡ˆB: é¢„æµ‹æ€§åŠ è½½
class PredictiveLoader {
  async load(task) {
    // åˆ†æä»»åŠ¡ï¼Œé¢„æµ‹å¯èƒ½éœ€è¦çš„è§„åˆ™
    const predicted = await this.predict(task);
    
    // åœ¨åå°é¢„åŠ è½½
    this.preload(predicted);
    
    // AIæ‰§è¡Œä»»åŠ¡æ—¶ï¼Œè§„åˆ™å·²ç»å‡†å¤‡å¥½
  }
}

// æ–¹æ¡ˆC: ç¼“å­˜ä¼˜åŒ–
class SmartCache {
  constructor() {
    this.sessionCache = new Map(); // ä¼šè¯ç¼“å­˜
    this.projectCache = new Map(); // é¡¹ç›®ç¼“å­˜
  }
  
  async getRules(context) {
    // 1. æ£€æŸ¥ä¼šè¯ç¼“å­˜
    const sessionKey = this.getSessionKey(context);
    if (this.sessionCache.has(sessionKey)) {
      return this.sessionCache.get(sessionKey); // <1ms
    }
    
    // 2. æ£€æŸ¥é¡¹ç›®ç¼“å­˜
    const projectKey = this.getProjectKey(context);
    if (this.projectCache.has(projectKey)) {
      return this.projectCache.get(projectKey); // <5ms
    }
    
    // 3. ä»æ•°æ®åº“åŠ è½½
    const rules = await this.loadFromDB(context); // ~10ms
    
    // 4. æ›´æ–°ç¼“å­˜
    this.sessionCache.set(sessionKey, rules);
    this.projectCache.set(projectKey, rules);
    
    return rules;
  }
}
```

---

### ç¼ºé™·6: è§„åˆ™ç‰ˆæœ¬ç®¡ç†é—®é¢˜ â­â­

**é—®é¢˜æè¿°:**
```
è§„åˆ™åº“ä¼šä¸æ–­æ›´æ–°ï¼Œå¯èƒ½å‡ºç°ç‰ˆæœ¬ä¸å…¼å®¹

åœºæ™¯1: æ—§è§„åˆ™ vs æ–°è§„åˆ™
2024å¹´çš„è§„åˆ™: "ä½¿ç”¨classç»„ä»¶"
2025å¹´çš„è§„åˆ™: "ä½¿ç”¨functionç»„ä»¶ + Hooks"
å†²çªï¼

åœºæ™¯2: é¡¹ç›®ç‰¹å®šè§„åˆ™
å…¬å¸Açš„è§„åˆ™: "å˜é‡å‘½åç”¨camelCase"
å…¬å¸Bçš„è§„åˆ™: "å˜é‡å‘½åç”¨snake_case"
AIåº”è¯¥ç”¨å“ªä¸ªï¼Ÿ
```

**è§£å†³æ–¹æ¡ˆ:**

```javascript
class RuleVersionManager {
  loadRules(project) {
    return {
      // å…¨å±€è§„åˆ™ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰
      global: this.loadGlobalRules('latest'),
      
      // é¡¹ç›®è§„åˆ™ï¼ˆé”å®šç‰ˆæœ¬ï¼‰
      project: this.loadProjectRules(project.ruleVersion),
      
      // ç”¨æˆ·è‡ªå®šä¹‰è§„åˆ™ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
      custom: this.loadCustomRules(project.id),
      
      // åˆå¹¶ç­–ç•¥
      merge: (global, project, custom) => {
        return {
          ...global,
          ...project, // é¡¹ç›®è§„åˆ™è¦†ç›–å…¨å±€
          ...custom   // è‡ªå®šä¹‰è§„åˆ™ä¼˜å…ˆçº§æœ€é«˜
        };
      }
    };
  }
}
```

---

## ğŸ¯ Cursorå…¼å®¹æ€§æ·±åº¦åˆ†æ

### Cursoræ¶æ„é™åˆ¶

**Cursorå½“å‰æ¶æ„:**
```
Cursor = VSCode Fork + AIé›†æˆ

æ ¸å¿ƒé™åˆ¶:
1. AIæ˜¯é€šè¿‡APIè°ƒç”¨ï¼ˆClaude/GPTï¼‰
2. æ— æ³•ç›´æ¥ä¿®æ”¹AIå†…éƒ¨é€»è¾‘
3. åªèƒ½é€šè¿‡Promptå·¥ç¨‹å½±å“AI
4. æœ‰Tokené™åˆ¶ï¼ˆ~15K tokens/requestï¼‰
5. æ— æ³•æŒä¹…åŒ–AIçŠ¶æ€
```

### å…¼å®¹æ€§è¯„ä¼°

#### âœ… å®Œå…¨å…¼å®¹çš„éƒ¨åˆ†

**1. è§„åˆ™ç¼–è¯‘ï¼ˆ100%å…¼å®¹ï¼‰**
```
å®ç°æ–¹å¼:
- è§„åˆ™ç¼–è¯‘åœ¨æœ¬åœ°å®Œæˆï¼ˆNode.jsï¼‰
- ç¼–è¯‘ç»“æœæ³¨å…¥åˆ°System Prompt
- å¯¹Cursorå®Œå…¨é€æ˜

ç¤ºä¾‹:
const compiled = compileRules(allRules);
const systemPrompt = `
ä½ æ˜¯AIåŠ©æ‰‹ï¼Œéµå¾ªä»¥ä¸‹è§„åˆ™:
${compiled.patterns}
`;
cursor.setSystemPrompt(systemPrompt);
```

**2. è§„åˆ™ç´¢å¼•ï¼ˆ100%å…¼å®¹ï¼‰**
```
å®ç°æ–¹å¼:
- ä½¿ç”¨SQLiteå­˜å‚¨è§„åˆ™ç´¢å¼•
- é€šè¿‡MCPæš´éœ²æŸ¥è¯¢æ¥å£
- AIé€šè¿‡å·¥å…·è°ƒç”¨æŸ¥è¯¢

ç¤ºä¾‹:
AIè°ƒç”¨å·¥å…·: search_rules("React Hooks")
MCPè¿”å›: [...ç›¸å…³è§„åˆ™åˆ—è¡¨]
AIåŠ è½½åˆ°ä¸Šä¸‹æ–‡
```

**3. å¤šçº§ç¼“å­˜ï¼ˆ100%å…¼å®¹ï¼‰**
```
å®ç°æ–¹å¼:
- åœ¨Extensionä¸­å®ç°ç¼“å­˜
- å¯¹AIé€æ˜
- åªå½±å“è§„åˆ™åŠ è½½é€Ÿåº¦
```

#### âš ï¸ éƒ¨åˆ†å…¼å®¹çš„éƒ¨åˆ†

**1. AIè‡ªä¸»å†³ç­–ï¼ˆ70%å…¼å®¹ï¼‰**

**é™åˆ¶:**
```
é—®é¢˜: Cursorçš„AIæ˜¯"è¢«åŠ¨"çš„ï¼Œä¸èƒ½çœŸæ­£"è‡ªä¸»"
- AIåªèƒ½å“åº”ç”¨æˆ·è¾“å…¥
- AIæ— æ³•ä¸»åŠ¨æ€è€ƒ"æˆ‘ç¼ºå°‘ä»€ä¹ˆçŸ¥è¯†"
- AIçš„"è‡ªä¸»æ€§"å…¶å®æ˜¯é€šè¿‡Promptæ¨¡æ‹Ÿçš„
```

**è§£å†³æ–¹æ¡ˆ:**
```javascript
// é€šè¿‡Promptæ¨¡æ‹Ÿè‡ªä¸»æ€§
const prompt = `
ä½ æ˜¯ä¸€ä¸ªè‡ªä¸»å­¦ä¹ çš„AIåŠ©æ‰‹ã€‚

å½“ä½ ä¸ç¡®å®šå¦‚ä½•å®Œæˆä»»åŠ¡æ—¶ï¼Œä½ åº”è¯¥:
1. åˆ†æä»»åŠ¡éœ€æ±‚
2. è¯„ä¼°è‡ªå·±çš„çŸ¥è¯†æ˜¯å¦å……è¶³
3. å¦‚æœä¸å……è¶³ï¼Œä½¿ç”¨search_ruleså·¥å…·æŸ¥æ‰¾è§„åˆ™
4. åŠ è½½è§„åˆ™åå†æ‰§è¡Œä»»åŠ¡

é‡è¦: æ°¸è¿œä¸è¦åœ¨çŸ¥è¯†ä¸è¶³æ—¶å¼ºè¡Œæ‰§è¡Œï¼

ç°åœ¨ï¼Œç”¨æˆ·çš„ä»»åŠ¡æ˜¯: ${userTask}

è¯·å…ˆè¯„ä¼°: ä½ æœ‰è¶³å¤Ÿçš„çŸ¥è¯†å—ï¼Ÿå¦‚æœæ²¡æœ‰ï¼Œè¯·æœç´¢è§„åˆ™ã€‚
`;

// å®é™…æ•ˆæœ: 70%æ¥è¿‘çœŸæ­£çš„"è‡ªä¸»"
// ä½†ä»ç„¶æ˜¯"æ¨¡æ‹Ÿ"ï¼Œä¸æ˜¯"çœŸæ­£çš„è‡ªä¸»æ„è¯†"
```

**2. çŸ¥è¯†ç¼ºå£è¯†åˆ«ï¼ˆ60%å…¼å®¹ï¼‰**

**é™åˆ¶:**
```
é—®é¢˜: AIæ— æ³•çœŸæ­£"è‡ªçœ"
- AIçš„"æˆ‘ä¸çŸ¥é“"æ˜¯åŸºäºè®­ç»ƒæ•°æ®
- æ— æ³•å‡†ç¡®é‡åŒ–"çŸ¥è¯†å……è¶³åº¦"
- å¯èƒ½é«˜ä¼°æˆ–ä½ä¼°è‡ªå·±çš„èƒ½åŠ›
```

**è§£å†³æ–¹æ¡ˆ:**
```javascript
// é€šè¿‡æ˜¾å¼æ£€æŸ¥åˆ—è¡¨
const checklistPrompt = `
åœ¨å¼€å§‹ä»»åŠ¡å‰ï¼Œæ£€æŸ¥ä»¥ä¸‹çŸ¥è¯†ç‚¹:
â˜ æŠ€æœ¯æ ˆè¯†åˆ« (React/Vue/Angular)
â˜ ç¯å¢ƒé…ç½® (Nodeç‰ˆæœ¬ã€ä¾èµ–)
â˜ ç¼–ç è§„èŒƒ (å‘½åã€æ ¼å¼ã€æ³¨é‡Š)
â˜ é”™è¯¯å¤„ç† (try-catchã€æ—¥å¿—)
â˜ å®‰å…¨è¦æ±‚ (è¾“å…¥éªŒè¯ã€XSSé˜²æŠ¤)

å¯¹äºæ¯ä¸€é¡¹ï¼Œå¦‚æœä¸ç¡®å®šï¼Œä½¿ç”¨search_rulesæŸ¥è¯¢ã€‚
`;

// å®é™…æ•ˆæœ: 60%å‡†ç¡®ç‡
// ä¾èµ–AIè‡ªå·±çš„åˆ¤æ–­ï¼Œä¸èƒ½ä¿è¯100%
```

#### âŒ ä¸å…¼å®¹çš„éƒ¨åˆ†

**1. çœŸæ­£çš„AIè‡ªä¸»å­¦ä¹ ï¼ˆ0%å…¼å®¹ï¼‰**

**é—®é¢˜:**
```
æˆ‘ä»¬çš„æ–¹æ¡ˆå‡è®¾: AIèƒ½ä»ç»éªŒä¸­å­¦ä¹ 
Cursorç°å®: AIæ˜¯æ— çŠ¶æ€çš„
- æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„
- AIä¸ä¼š"è®°ä½"ä¹‹å‰çš„ç»éªŒ
- æ— æ³•çœŸæ­£"è¶Šç”¨è¶Šèªæ˜"
```

**å½±å“:**
```
æ–¹æ¡ˆä¸­çš„"è‡ªé€‚åº”å­¦ä¹ "æ— æ³•å®ç° âŒ
- è§„åˆ™ä¼˜å…ˆçº§æ— æ³•æ ¹æ®ä½¿ç”¨æƒ…å†µè‡ªåŠ¨è°ƒæ•´
- AIä¸ä¼šè®°ä½"ä¸Šæ¬¡è¿™ä¸ªè§„åˆ™å¾ˆæœ‰ç”¨"
- æ¯æ¬¡éƒ½è¦é‡æ–°åˆ¤æ–­
```

**è§£å†³æ–¹æ¡ˆï¼ˆå˜é€šï¼‰:**
```javascript
// ç”¨ç»Ÿè®¡æ•°æ®æ¨¡æ‹Ÿå­¦ä¹ 
class SimulatedLearning {
  async selectRules(context) {
    // ä»æ•°æ®åº“è¯»å–ç»Ÿè®¡
    const stats = await db.getRuleStats();
    
    // æ ¹æ®ç»Ÿè®¡æ•°æ®è°ƒæ•´ä¼˜å…ˆçº§
    const rules = stats
      .sort((a, b) => b.successRate - a.successRate)
      .slice(0, 200);
    
    // æ³¨å…¥åˆ°prompt
    const prompt = `
åŸºäºå†å²æ•°æ®ï¼Œä»¥ä¸‹è§„åˆ™æœ€æœ‰æ•ˆ:
${rules.map(r => r.description).join('\n')}
    `;
    
    return prompt;
  }
}

// å®é™…æ•ˆæœ: "ä¼ªå­¦ä¹ "
// AIæœ¬èº«ä¸å­¦ä¹ ï¼Œä½†ç³»ç»Ÿåœ¨å­¦ä¹ 
```

**2. è¿è¡Œæ—¶è§„åˆ™åŠ¨æ€åŠ è½½ï¼ˆ30%å…¼å®¹ï¼‰**

**é—®é¢˜:**
```
ç†æƒ³: AIæ‰§è¡Œä¸­éšæ—¶åŠ è½½æ–°è§„åˆ™
ç°å®: Cursorçš„contextåœ¨è¯·æ±‚å¼€å§‹æ—¶ç¡®å®š

ä¾‹å¦‚:
AIå†™åˆ°ä¸€åŠ â†’ å‘ç°éœ€è¦æ–°è§„åˆ™ â†’ æƒ³åŠ è½½
ä½†: å½“å‰è¯·æ±‚çš„contextå·²é”å®š âŒ
å¿…é¡»: é‡æ–°å‘èµ·è¯·æ±‚
```

**å½±å“:**
```
"æµå¼åŠ è½½"æ— æ³•å®Œå…¨å®ç°
åªèƒ½åœ¨ä»»åŠ¡å¼€å§‹å‰åŠ è½½æ‰€æœ‰å¯èƒ½éœ€è¦çš„è§„åˆ™
```

---

## ğŸ“Š å…¼å®¹æ€§è¯„åˆ†å¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Cursor å…¼å®¹æ€§è¯„ä¼°                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŠŸèƒ½æ¨¡å—            â”‚ å…¼å®¹åº¦   â”‚ è¯´æ˜                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è§„åˆ™ç¼–è¯‘            â”‚ 100% âœ…  â”‚ å®Œå…¨å¯è¡Œ            â”‚
â”‚ è§„åˆ™ç´¢å¼•            â”‚ 100% âœ…  â”‚ å®Œå…¨å¯è¡Œ            â”‚
â”‚ å¤šçº§ç¼“å­˜            â”‚ 100% âœ…  â”‚ å®Œå…¨å¯è¡Œ            â”‚
â”‚ è§„åˆ™ä¼˜å…ˆçº§          â”‚ 90% âœ…   â”‚ é™æ€ä¼˜å…ˆçº§å¯è¡Œ      â”‚
â”‚ å†²çªæ£€æµ‹            â”‚ 85% âœ…   â”‚ å¯åœ¨æœ¬åœ°å®ç°        â”‚
â”‚ AIè‡ªä¸»å†³ç­–          â”‚ 70% âš ï¸   â”‚ Promptæ¨¡æ‹Ÿ          â”‚
â”‚ çŸ¥è¯†ç¼ºå£è¯†åˆ«        â”‚ 60% âš ï¸   â”‚ å‡†ç¡®ç‡æœ‰é™          â”‚
â”‚ æµå¼åŠ è½½            â”‚ 30% âš ï¸   â”‚ å—é™äºAPI           â”‚
â”‚ è‡ªé€‚åº”å­¦ä¹           â”‚ 0% âŒ    â”‚ AIæ— çŠ¶æ€            â”‚
â”‚ è¿è¡Œæ—¶åŠ¨æ€åŠ è½½      â”‚ 30% âš ï¸   â”‚ Contexté”å®š         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç»¼åˆå…¼å®¹åº¦          â”‚ 70% âš ï¸   â”‚ å¯è¡Œä½†éœ€å˜é€š        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Cursoré€‚é…æ–¹æ¡ˆ

### æ–¹æ¡ˆA: ä¿å®ˆå®ç°ï¼ˆæ¨èï¼‰â­â­â­â­â­

**æ ¸å¿ƒæ€è·¯:** æ”¾å¼ƒ"AIè‡ªä¸»"ï¼Œæ”¹ä¸º"æ™ºèƒ½è¾…åŠ©"

```javascript
// Cursoré€‚é…ç‰ˆ
class CursorAdaptedSystem {
  async prepare(userTask) {
    // 1. é¢„åˆ†æï¼ˆåœ¨AIæ‰§è¡Œå‰ï¼‰
    const analysis = await this.analyzeTask(userTask);
    
    // 2. è§„åˆ™é¢„é€‰ï¼ˆæœ¬åœ°æ™ºèƒ½ï¼‰
    const rules = await this.smartSelect(analysis);
    
    // 3. ç¼–è¯‘æ³¨å…¥ï¼ˆä¸€æ¬¡æ€§åŠ è½½ï¼‰
    const compiled = this.compile(rules);
    
    // 4. æ„å»ºå®Œæ•´Prompt
    const fullPrompt = `
${systemPrompt}

ä»»åŠ¡ä¸Šä¸‹æ–‡:
- é¢†åŸŸ: ${analysis.domain}
- æŠ€æœ¯æ ˆ: ${analysis.techStack}
- å¤æ‚åº¦: ${analysis.complexity}

ç›¸å…³è§„åˆ™:
${compiled.patterns}

æ³¨æ„äº‹é¡¹:
${compiled.warnings}

ç”¨æˆ·ä»»åŠ¡: ${userTask}
    `;
    
    return fullPrompt;
  }
}

// ä¼˜ç‚¹:
// âœ… 100%å…¼å®¹Cursor
// âœ… ä¸ä¾èµ–AI"è‡ªä¸»æ€§"
// âœ… è§„åˆ™åœ¨AIæ‰§è¡Œå‰å‡†å¤‡å¥½
// âœ… æ€§èƒ½å¯é¢„æµ‹

// ç¼ºç‚¹:
// âš ï¸ å¤±å»"çœŸæ­£çš„AIè‡ªä¸»"
// âš ï¸ æ— æ³•è¿è¡Œæ—¶è°ƒæ•´
```

### æ–¹æ¡ˆB: æ¸è¿›å¢å¼ºï¼ˆæ¿€è¿›ï¼‰â­â­â­

**æ ¸å¿ƒæ€è·¯:** åˆ†å¤šè½®å¯¹è¯æ¨¡æ‹Ÿè‡ªä¸»æ€§

```javascript
class MultiTurnSimulation {
  async execute(userTask) {
    // ç¬¬1è½®: AIè¯„ä¼°
    const round1 = await cursor.chat(`
ä»»åŠ¡: ${userTask}

è¯·è¯„ä¼°:
1. ä½ æ˜¯å¦æœ‰è¶³å¤Ÿçš„çŸ¥è¯†ï¼Ÿ
2. å¦‚æœæ²¡æœ‰ï¼Œä½ éœ€è¦ä»€ä¹ˆè§„åˆ™ï¼Ÿ

å›å¤æ ¼å¼: {"confident": true/false, "needs": ["è§„åˆ™1", "è§„åˆ™2"]}
    `);
    
    const assessment = JSON.parse(round1);
    
    if (!assessment.confident) {
      // ç¬¬2è½®: åŠ è½½è§„åˆ™
      const rules = await this.loadRules(assessment.needs);
      
      // ç¬¬3è½®: AIé‡æ–°æ‰§è¡Œ
      const round3 = await cursor.chat(`
å·²ä¸ºä½ åŠ è½½è§„åˆ™:
${rules}

ç°åœ¨è¯·å®Œæˆä»»åŠ¡: ${userTask}
      `);
      
      return round3;
    }
    
    return round1;
  }
}

// ä¼˜ç‚¹:
// âœ… æ¨¡æ‹Ÿ"AIè‡ªä¸»"
// âœ… å¯ä»¥è¿è¡Œæ—¶è°ƒæ•´

// ç¼ºç‚¹:
// âš ï¸ éœ€è¦å¤šè½®å¯¹è¯ï¼ˆæ…¢ï¼‰
// âš ï¸ æ¶ˆè€—æ›´å¤štokens
// âš ï¸ ç”¨æˆ·ä½“éªŒå¯èƒ½ä¸æµç•…
```

### æ–¹æ¡ˆC: MCPå·¥å…·å¢å¼ºï¼ˆå¹³è¡¡ï¼‰â­â­â­â­

**æ ¸å¿ƒæ€è·¯:** ç»™AIæä¾›"æŸ¥è§„åˆ™"å·¥å…·

```javascript
// MCPå·¥å…·å®šä¹‰
const ruleSearchTool = {
  name: "search_rules",
  description: "å½“ä½ ä¸ç¡®å®šå¦‚ä½•å®Œæˆä»»åŠ¡æ—¶ï¼Œä½¿ç”¨æ­¤å·¥å…·æŸ¥æ‰¾ç›¸å…³è§„åˆ™",
  parameters: {
    keywords: "string[]", // å…³é”®è¯
    domain: "string",     // é¢†åŸŸ
    minConfidence: "number" // æœ€ä½ç›¸å…³åº¦
  },
  handler: async (params) => {
    const rules = await ruleEngine.search(params);
    return {
      rules: rules.map(r => r.summary),
      fullDetails: rules.map(r => r.link)
    };
  }
};

// AI Prompt
const prompt = `
ä½ æœ‰ä¸€ä¸ªsearch_ruleså·¥å…·ï¼Œä½¿ç”¨æ–¹æ³•:
- å½“ä½ ä¸ç¡®å®šæ—¶ï¼Œæœç´¢è§„åˆ™
- æœç´¢åˆ°è§„åˆ™åï¼Œéµå¾ªè§„åˆ™æ‰§è¡Œ

ç¤ºä¾‹:
ç”¨æˆ·: å¼€å‘Reactç™»å½•ç»„ä»¶
ä½ : è®©æˆ‘å…ˆæœç´¢Reactå¼€å‘è§„åˆ™...
     [è°ƒç”¨search_rules({keywords: ["React", "ç™»å½•", "ç»„ä»¶"]})]
     å¥½çš„ï¼Œæˆ‘æ‰¾åˆ°äº†ç›¸å…³è§„åˆ™ï¼Œç°åœ¨å¼€å§‹å¼€å‘...
`;

// ä¼˜ç‚¹:
// âœ… AIå¯ä»¥"ä¸»åŠ¨"æŸ¥è§„åˆ™
// âœ… å…¼å®¹Cursorçš„å·¥å…·ç³»ç»Ÿ
// âœ… ä¸éœ€è¦å¤šè½®å¯¹è¯

// ç¼ºç‚¹:
// âš ï¸ AIéœ€è¦"è®°å¾—"ä½¿ç”¨å·¥å…·
// âš ï¸ ä¾èµ–AIçš„åˆ¤æ–­åŠ›
```

---

## ğŸ’Š æ¨èçš„Cursorå®æ–½æ–¹æ¡ˆ

### æœ€ä½³å®è·µ: æ··åˆæ–¹æ¡ˆ

```javascript
class CursorOptimalImplementation {
  async execute(userTask) {
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ç¬¬1é˜¶æ®µ: æ™ºèƒ½é¢„å¤„ç†ï¼ˆæœ¬åœ°ï¼‰
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    // 1.1 ä»»åŠ¡åˆ†æ
    const analysis = await this.analyzeTaskLocally(userTask);
    
    // 1.2 è§„åˆ™é¢„é€‰ï¼ˆæ™ºèƒ½ç®—æ³•ï¼‰
    const preSelected = await this.smartSelectRules(analysis);
    
    // 1.3 è§„åˆ™ç¼–è¯‘
    const compiled = this.compileRules(preSelected);
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ç¬¬2é˜¶æ®µ: AIæ‰§è¡Œï¼ˆCursorï¼‰
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    // 2.1 æ„å»ºå¢å¼ºPrompt
    const enhancedPrompt = `
${systemPrompt}

ã€å·²ä¸ºä½ åŠ è½½çš„è§„åˆ™ã€‘
${compiled.patterns}

ã€å¯ç”¨å·¥å…·ã€‘
- search_rules: å¦‚éœ€è¦æ›´å¤šè§„åˆ™ï¼Œä½¿ç”¨æ­¤å·¥å…·

ã€ä»»åŠ¡ã€‘
${userTask}

ã€æ‰§è¡Œç­–ç•¥ã€‘
1. å…ˆæ£€æŸ¥å·²åŠ è½½çš„è§„åˆ™æ˜¯å¦å……è¶³
2. å¦‚æœä¸å¤Ÿï¼Œä½¿ç”¨search_rulesæŸ¥æ‰¾
3. ç¡®ä¿ç†è§£åå†æ‰§è¡Œ
    `;
    
    // 2.2 è°ƒç”¨Cursor AI
    const result = await cursor.chat(enhancedPrompt, {
      tools: [ruleSearchTool, conflictResolveTool],
      maxTokens: 4000
    });
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ç¬¬3é˜¶æ®µ: åå¤„ç†ä¸å­¦ä¹ ï¼ˆæœ¬åœ°ï¼‰
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    // 3.1 è®°å½•ä½¿ç”¨çš„è§„åˆ™
    await this.logRuleUsage(result.usedRules);
    
    // 3.2 æ›´æ–°ç»Ÿè®¡
    await this.updateRuleStats(result.success);
    
    // 3.3 å†²çªæ£€æµ‹
    if (result.conflicts) {
      await this.handleConflicts(result.conflicts);
    }
    
    return result;
  }
}
```

**è¿™ä¸ªæ–¹æ¡ˆçš„ä¼˜åŠ¿:**
```
âœ… 70%çš„åŠŸèƒ½å¯ä»¥å®ç°
âœ… æ€§èƒ½å¯æ§ï¼ˆé¢„å¤„ç†åœ¨æœ¬åœ°ï¼‰
âœ… å…¼å®¹Cursoré™åˆ¶
âœ… ç”¨æˆ·ä½“éªŒæµç•…
âœ… å¯ä»¥æŒç»­ä¼˜åŒ–
```

**è¿™ä¸ªæ–¹æ¡ˆçš„é™åˆ¶:**
```
âš ï¸ ä¸æ˜¯"çœŸæ­£çš„AIè‡ªä¸»"ï¼ˆæ˜¯æ¨¡æ‹Ÿï¼‰
âš ï¸ è‡ªé€‚åº”å­¦ä¹ æ˜¯"ç³»ç»Ÿå­¦ä¹ "ï¼ˆä¸æ˜¯AIå­¦ä¹ ï¼‰
âš ï¸ è¿è¡Œæ—¶è°ƒæ•´æœ‰é™
```

---

## ğŸ“‹ é£é™©æ€»ç»“ä¸ä¼˜å…ˆçº§

### P0 - å¿…é¡»è§£å†³ï¼ˆä¸Šçº¿å‰ï¼‰

1. **å¤šè§„åˆ™å†²çª** ğŸ”´
   - å®ç°è§„åˆ™ä¼˜å…ˆçº§ç³»ç»Ÿ
   - å®ç°å†²çªæ£€æµ‹
   - æä¾›ç”¨æˆ·å†³ç­–æœºåˆ¶

2. **Cursorå…¼å®¹æ€§** ğŸ”´
   - é‡‡ç”¨"ä¿å®ˆå®ç°"æ–¹æ¡ˆ
   - é¢„å¤„ç†+å·¥å…·è°ƒç”¨
   - å……åˆ†æµ‹è¯•

### P1 - é‡è¦ï¼ˆä¸Šçº¿å1ä¸ªæœˆï¼‰

3. **AIåˆ¤æ–­é”™è¯¯** ğŸŸ¡
   - å®ç°æ„å›¾ç¡®è®¤
   - å¤šå‡è®¾å¹¶è¡Œ
   - å¢é‡éªŒè¯

4. **è§„åˆ™ç²¾åº¦æŸå¤±** ğŸŸ¡
   - åˆ†å±‚ç¼–è¯‘
   - æŒ‰éœ€å±•å¼€
   - è¯¦ç»†ç´¢å¼•

### P2 - ä¼˜åŒ–ï¼ˆæŒç»­æ”¹è¿›ï¼‰

5. **æ€§èƒ½é—®é¢˜** ğŸŸ¢
   - æ‰¹é‡æ£€æŸ¥
   - é¢„æµ‹åŠ è½½
   - ç¼“å­˜ä¼˜åŒ–

6. **ä¾èµ–é“¾ç®¡ç†** ğŸŸ¢
   - ä¾èµ–å›¾
   - è‡ªåŠ¨è§£æ
   - å¾ªç¯æ£€æµ‹

---

## âœ… æœ€ç»ˆç»“è®º

### æ–¹æ¡ˆå¯è¡Œæ€§

**æ€»ä½“è¯„ä¼°: âš ï¸ å¯è¡Œï¼Œä½†éœ€è¦é€‚é…Cursor**

```
ç†æƒ³æ–¹æ¡ˆï¼ˆ100%åŠŸèƒ½ï¼‰:
- AIçœŸæ­£è‡ªä¸»å­¦ä¹  âŒ
- è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ âš ï¸
- å®Œå…¨è‡ªé€‚åº” âŒ

ç°å®æ–¹æ¡ˆï¼ˆ70%åŠŸèƒ½ï¼‰:
- æ™ºèƒ½é¢„å¤„ç† âœ…
- å·¥å…·è¾…åŠ©æŸ¥è¯¢ âœ…
- ç³»ç»Ÿçº§å­¦ä¹  âœ…
- Promptæ¨¡æ‹Ÿè‡ªä¸» âš ï¸
```

### æ¨èè¡ŒåŠ¨

1. **ç«‹å³é‡‡ç”¨"ä¿å®ˆå®ç°"æ–¹æ¡ˆ**
   - å…¼å®¹æ€§æœ€å¥½ï¼ˆ100%ï¼‰
   - é£é™©æœ€ä½
   - å¯ä»¥å¿«é€Ÿä¸Šçº¿

2. **é€æ­¥å¢å¼ºAIèƒ½åŠ›**
   - å…ˆç”¨è§„åˆ™ç¼–è¯‘+æ™ºèƒ½é¢„é€‰
   - å†åŠ å…¥å·¥å…·è°ƒç”¨
   - æœ€åä¼˜åŒ–æ€§èƒ½

3. **æŒç»­ç›‘æ§ä¸ä¼˜åŒ–**
   - è®°å½•AIè¡Œä¸º
   - åˆ†æå†²çªæƒ…å†µ
   - æ ¹æ®æ•°æ®è°ƒæ•´ç­–ç•¥

### é¢„æœŸæ•ˆæœï¼ˆCursoré€‚é…ç‰ˆï¼‰

```
è§„åˆ™å®¹é‡: 10000æ¡ âœ…
å®é™…åŠ è½½: ~300æ¡ âœ…
æ‰§è¡Œç‡: 90-92% âœ… (æ¯”åŸç›®æ ‡95%ç•¥ä½ï¼Œä½†å¯æ¥å—)
åŠ è½½é€Ÿåº¦: <5ms âœ…
é€‰æ‹©å‡†ç¡®ç‡: 85-90% âœ…
ç”¨æˆ·ä½“éªŒ: æµç•… âœ…
```

**ç»“è®º: æ–¹æ¡ˆå¯è¡Œï¼Œä½†è¦åŠ¡å®ï¼** ğŸ¯

ä¸è¦è¿½æ±‚"å®Œç¾çš„AIè‡ªä¸»"ï¼Œè€Œè¦è¿½æ±‚"æœ€é€‚åˆCursorçš„å®ç°"ï¼

